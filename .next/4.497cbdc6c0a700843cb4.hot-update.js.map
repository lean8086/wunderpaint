{"version":3,"file":"4.497cbdc6c0a700843cb4.hot-update.js","sources":["webpack:///components/Layer.js","webpack:///containers/Layer.js"],"sourcesContent":["import { Component } from 'react';\n\nclass Layer extends Component {\n  constructor(props) {\n    super(props);\n    this.canvas = React.createRef();\n    this.props.setContext(this.canvas.getContext('2d'));\n  }\n\n  render() {\n    const { width, height, scale } = this.props;\n    return (\n      <canvas\n        className='Layer'\n        width={width}\n        height={height}\n        style={{ transform: `scale(${scale})` }}\n        ref={this.canvas}\n      />\n    );\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// components/Layer.js","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Layer from '../components/Layer';\n\nclass LayerContainer extends Component {\n  clear() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  getImageData() {\n    return this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height).data;\n  }\n\n  putImageData(data) {\n    const { width, height } = this.canvas;\n    for (let y = 0; y < height; y += 1) {\n      for (let x = 0; x < width; x += 1) {\n        const pos = (y * width + x) * 4;\n        const pixel = data.slice(pos, pos + 4);\n        this.ctx.fillStyle = `rgba(${pixel.join(',')})`;\n        this.ctx.fillRect(x, y, 1, 1);\n      }\n    }\n  }\n\n  slowAndSafePutImageData(data) {\n    const { width, height } = this.canvas;\n    for (let y = 0; y < height; y += 1) {\n      for (let x = 0; x < width; x += 1) {\n        const pos = (y * width + x) * 4;\n        const [r, g, b, a] = [\n          data[pos],\n          data[pos + 1],\n          data[pos + 2],\n          data[pos + 3] / 255,\n        ];\n        this.ctx.fillStyle = `rgba(${r},${g},${b},${a})`;\n        this.ctx.fillRect(x, y, 1, 1);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Layer\n        width={this.props.width}\n        height={this.props.height}\n        scale={this.props.scale}\n        setContext={ctx => this.ctx = ctx}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  scale: state.scale,\n  width: state.width,\n  height: state.height,\n});\n\nexport default connect(mapStateToProps)(LayerContainer);\n\n\n\n// WEBPACK FOOTER //\n// containers/Layer.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAJA;AAIA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AAlBA;AACA;AAkBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA/CA;AACA;AAiDA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}